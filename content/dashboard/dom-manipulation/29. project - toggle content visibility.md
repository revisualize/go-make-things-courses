---
title: "Toggle content visibility"
date: 2018-01-14T21:38:44-05:00
draft: false
section: "Project"
video: "https://vimeo.com/253357007"
noTitle: false
---

To toggle the visibility of our content, we need to detect when our `.accordion-toggle` links are clicked.

We *could* add an event listener to each link, but for maximum flexibility and performance, let's listen for all click events on the `document`, and filter out any clicked elements that don't have the `.accordion-toggle` class.

To do this, we'll use `classList.contains()` to check the `event.target` in our event listener.

```javascript
// Listen for clicks on the document
document.addEventListener('click', function (event) {

	// Log the clicked element in the console
	console.log(event.target);

	// Bail if our clicked element doesn't have the .accordion-toggle class
	if (!event.target.classList.contains('accordion-toggle')) return;

	// Log the clicked element in the console
	console.log('matches');

});
```

The code above logs every clicked element in the console, but only displays `matches` when an accordion toggle is clicked. Open up the console tab in developer tools to see it in action.

Next, we want to get the element that our accordion toggle points to. The `event.target.hash` gives us the hash value of our anchor link, which matches the ID of our target content area. We can use that with `querySelector` to get our content. If no matching content is found, we'll end our function.

```javascript
// Listen for clicks on the document
document.addEventListener('click', function (event) {

	// Bail if our clicked element doesn't have the .accordion-toggle class
	if (!event.target.classList.contains('accordion-toggle')) return;

	// Get the target content
	var content = document.querySelector(event.target.hash);
	if (!content) return;

});
```

Finally, let's change the visibility of our content. If it already has the `.active` class on it, we want to remove it. And if it doesn't have the class, we want to add it.

For that, we'll use `classList.toggle()`.

```javascript
// Listen for clicks on the document
document.addEventListener('click', function (event) {

	// Bail if our clicked element doesn't have the .accordion-toggle class
	if (!event.target.classList.contains('accordion-toggle')) return;

	// Get the target content
	var content = document.querySelector(event.target.hash);
	if (!content) return;

	// Toggle our content
	content.classList.toggle('active');

});
```

And with that little bit of code, we can now show and hide content when our toggle link is clicked.